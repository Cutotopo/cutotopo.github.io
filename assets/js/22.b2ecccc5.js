(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{390:function(e,n,t){"use strict";t.r(n);var i=t(42),r=Object(i.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"inkpaintwindow-xaml-cs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inkpaintwindow-xaml-cs"}},[e._v("#")]),e._v(" InkPaintWindow.xaml.cs")]),e._v(" "),t("h3",{attrs:{id:"c-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c-file"}},[e._v("#")]),e._v(" C# file")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('using ControlzEx.Theming;\nusing Fluent;\nusing Microsoft.Win32;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Text;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Ink;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Shapes;\nusing System.Windows.Threading;\n\nnamespace InkPaint\n{\n    /// <summary>\n    /// Logica di interazione per InkPaintWindow.xaml\n    /// </summary>\n    public partial class InkPaintWindow : RibbonWindow\n    {\n        public InkPaintWindow()\n        {\n            InitializeComponent();\n            Thickness15Item.IsSelected = true;\n        }\n\n        public static String GetTimestamp(DateTime value)\n        {\n            return value.ToString("HH:mm:ss");\n        }\n\n        private void RimuoviSfondo(object sender, RoutedEventArgs e)\n        {\n            Sfondo.Source = new BitmapImage();\n            BackgroundPath.Content = "No background.";\n            String timeStamp = GetTimestamp(DateTime.Now);\n            LatestEvent.Text = "Removed background";\n            LatestEventTime.Text = "1 second ago";\n            var timer4 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(1) };\n            var timer3 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(2) };\n            var timer2 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(3) };\n            var timer1 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(4) };\n            var timerend = new DispatcherTimer { Interval = TimeSpan.FromSeconds(5) };\n            timer4.Start();\n            timer4.Tick += (sender, args) =>\n            {\n                timer4.Stop();\n                LatestEventTime.Text = "2 seconds ago";\n            };\n            timer3.Start();\n            timer3.Tick += (sender, args) =>\n            {\n                timer3.Stop();\n                LatestEventTime.Text = "3 seconds ago";\n            };\n            timer2.Start();\n            timer2.Tick += (sender, args) =>\n            {\n                timer2.Stop();\n                LatestEventTime.Text = "4 seconds ago";\n            };\n            timer1.Start();\n            timer1.Tick += (sender, args) =>\n            {\n                timer1.Stop();\n                LatestEventTime.Text = "5 seconds ago";\n            };\n            timerend.Start();\n            timerend.Tick += (sender, args) =>\n            {\n                timerend.Stop();\n                LatestEventTime.Text = timeStamp;\n            };\n            \n        }\n        private void CallCloseAction()\n        {\n            this.Close();\n            StartScreen start = new StartScreen();\n        }\n\n        private void Disegno(object sender, RoutedEventArgs e)\n        {\n            InkPanel.EditingMode = InkCanvasEditingMode.Ink;\n        }\n        private void Seleziona(object sender, RoutedEventArgs e)\n        {\n            InkPanel.EditingMode = InkCanvasEditingMode.Select;\n        }\n        private void Elimina(object sender, RoutedEventArgs e)\n        {\n            InkPanel.EditingMode = InkCanvasEditingMode.EraseByPoint;\n        }\n        private void EliminaTratto(object sender, RoutedEventArgs e)\n        {\n            InkPanel.EditingMode = InkCanvasEditingMode.EraseByStroke;\n        }\n        private void SoloVisualizzazione(object sender, RoutedEventArgs e)\n        {\n            InkPanel.EditingMode = InkCanvasEditingMode.None;\n        }\n\n            private void FullScreen(object sender, RoutedEventArgs e)\n        {\n            this.WindowState = WindowState.Maximized;\n            this.WindowStyle = WindowStyle.None;\n            MessageBox.Show("This feature is not working on some devices.","InkPaint Beta");\n\n        }\n        private void NoFullScreen(object sender, RoutedEventArgs e)\n        {\n            this.WindowStyle = WindowStyle.SingleBorderWindow;\n            this.WindowState = WindowState.Normal;\n        }\n\n        private void CaricaSfondo(object sender, RoutedEventArgs e)\n        {\n            OpenFileDialog openFileDialog = new OpenFileDialog();\n            if (openFileDialog.ShowDialog() == true)\n            {\n                Uri fileUri = new Uri(openFileDialog.FileName);\n                Sfondo.Source = new BitmapImage(fileUri);\n                BackgroundPath.Content = fileUri;\n            }\n            String timeStamp = GetTimestamp(DateTime.Now);\n            LatestEvent.Text = "Loaded background";\n            LatestEventTime.Text = "1 second ago";\n            var timer4 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(1) };\n            var timer3 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(2) };\n            var timer2 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(3) };\n            var timer1 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(4) };\n            var timerend = new DispatcherTimer { Interval = TimeSpan.FromSeconds(5) };\n            timer4.Start();\n            timer4.Tick += (sender, args) =>\n            {\n                timer4.Stop();\n                LatestEventTime.Text = "2 seconds ago";\n            };\n            timer3.Start();\n            timer3.Tick += (sender, args) =>\n            {\n                timer3.Stop();\n                LatestEventTime.Text = "3 seconds ago";\n            };\n            timer2.Start();\n            timer2.Tick += (sender, args) =>\n            {\n                timer2.Stop();\n                LatestEventTime.Text = "4 seconds ago";\n            };\n            timer1.Start();\n            timer1.Tick += (sender, args) =>\n            {\n                timer1.Stop();\n                LatestEventTime.Text = "5 seconds ago";\n            };\n            timerend.Start();\n            timerend.Tick += (sender, args) =>\n            {\n                timerend.Stop();\n                LatestEventTime.Text = timeStamp;\n            };\n        }\n\n        private void DeleteCanvas(object sender, RoutedEventArgs e)\n        {\n            MessageBoxResult result = MessageBox.Show("This canvas will be deleted.", "InkPaint", MessageBoxButton.YesNo, MessageBoxImage.Question);\n            switch (result)\n            {\n                case MessageBoxResult.Yes:\n                    InkPanel.Strokes.Clear();\n\n                    break;\n                case MessageBoxResult.No:\n                    break;\n            }\n            String timeStamp = GetTimestamp(DateTime.Now);\n            LatestEvent.Text = "Cleared the canvas";\n            LatestEventTime.Text = "1 second ago";\n            var timer4 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(1) };\n            var timer3 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(2) };\n            var timer2 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(3) };\n            var timer1 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(4) };\n            var timerend = new DispatcherTimer { Interval = TimeSpan.FromSeconds(5) };\n            timer4.Start();\n            timer4.Tick += (sender, args) =>\n            {\n                timer4.Stop();\n                LatestEventTime.Text = "2 seconds ago";\n            };\n            timer3.Start();\n            timer3.Tick += (sender, args) =>\n            {\n                timer3.Stop();\n                LatestEventTime.Text = "3 seconds ago";\n            };\n            timer2.Start();\n            timer2.Tick += (sender, args) =>\n            {\n                timer2.Stop();\n                LatestEventTime.Text = "4 seconds ago";\n            };\n            timer1.Start();\n            timer1.Tick += (sender, args) =>\n            {\n                timer1.Stop();\n                LatestEventTime.Text = "5 seconds ago";\n            };\n            timerend.Start();\n            timerend.Tick += (sender, args) =>\n            {\n                timerend.Stop();\n                LatestEventTime.Text = timeStamp;\n            };\n        }\n\n        private void Salva(object sender, RoutedEventArgs e)\n        {\n            SaveFileDialog saveFileDialog1 = new SaveFileDialog();\n            saveFileDialog1.Filter = "InkPaint file (*.fink)|*.fink";\n\n            if (saveFileDialog1.ShowDialog() == true)\n            {\n                FileStream fs = new FileStream(saveFileDialog1.FileName, FileMode.Create);\n                System.Windows.Ink.StrokeCollection strokes = InkPanel.Strokes;\n                strokes.Save(fs);\n                fs.Close();\n            }\n            String timeStamp = GetTimestamp(DateTime.Now);\n            LatestEvent.Text = "Saved the canvas";\n            LatestEventTime.Text = "1 second ago";\n            var timer4 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(1) };\n            var timer3 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(2) };\n            var timer2 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(3) };\n            var timer1 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(4) };\n            var timerend = new DispatcherTimer { Interval = TimeSpan.FromSeconds(5) };\n            timer4.Start();\n            timer4.Tick += (sender, args) =>\n            {\n                timer4.Stop();\n                LatestEventTime.Text = "2 seconds ago";\n            };\n            timer3.Start();\n            timer3.Tick += (sender, args) =>\n            {\n                timer3.Stop();\n                LatestEventTime.Text = "3 seconds ago";\n            };\n            timer2.Start();\n            timer2.Tick += (sender, args) =>\n            {\n                timer2.Stop();\n                LatestEventTime.Text = "4 seconds ago";\n            };\n            timer1.Start();\n            timer1.Tick += (sender, args) =>\n            {\n                timer1.Stop();\n                LatestEventTime.Text = "5 seconds ago";\n            };\n            timerend.Start();\n            timerend.Tick += (sender, args) =>\n            {\n                timerend.Stop();\n                LatestEventTime.Text = timeStamp;\n            };\n        }\n\n        private void MostraRighe(object sender, RoutedEventArgs e)\n        {\n            Righe.Visibility = Visibility.Visible;\n            Quadretti.Visibility = Visibility.Hidden;\n        }\n        \n        private void NoGuide(object sender, RoutedEventArgs e)\n        {\n            Righe.Visibility = Visibility.Hidden;\n            Quadretti.Visibility = Visibility.Hidden;\n        }\n\n        private void MostraQuadretti(object sender, RoutedEventArgs e)\n        {\n            Quadretti.Visibility = Visibility.Visible;\n            Righe.Visibility = Visibility.Hidden;\n        }\n\n        private void AppShutdown(object sender, RoutedEventArgs e)\n        {\n            StartScreen start = new StartScreen();\n            start.Show();\n            this.Close();\n        }\n        private void OpenCanvas(object sender, RoutedEventArgs e)\n        {\n            OpenFileDialog openFileDialog1 = new OpenFileDialog();\n            openFileDialog1.Filter = "InkPaint/FrancyInk file (*.fink)|*.fink";\n\n            if (openFileDialog1.ShowDialog() == true)\n            {\n                FileStream fs = new FileStream(openFileDialog1.FileName,\n                                               FileMode.Open);\n                InkPanel.Strokes = new StrokeCollection(fs);\n                fs.Close();\n            }\n            String timeStamp = GetTimestamp(DateTime.Now);\n            var timer4 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(1) };\n            var timer3 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(2) };\n            var timer2 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(3) };\n            var timer1 = new DispatcherTimer { Interval = TimeSpan.FromSeconds(4) };\n            var timerend = new DispatcherTimer { Interval = TimeSpan.FromSeconds(5) };\n            LatestEvent.Text = "Saved the canvas";\n            LatestEventTime.Text = "1 second ago"; timer4.Start();\n            timer4.Tick += (sender, args) =>\n            {\n                timer4.Stop();\n                LatestEventTime.Text = "2 seconds ago";\n            };\n            timer3.Start();\n            timer3.Tick += (sender, args) =>\n            {\n                timer3.Stop();\n                LatestEventTime.Text = "3 seconds ago";\n            };\n            timer2.Start();\n            timer2.Tick += (sender, args) =>\n            {\n                timer2.Stop();\n                LatestEventTime.Text = "4 seconds ago";\n            };\n            timer1.Start();\n            timer1.Tick += (sender, args) =>\n            {\n                timer1.Stop();\n                LatestEventTime.Text = "5 seconds ago";\n            };\n            timerend.Start();\n            timerend.Tick += (sender, args) =>\n            {\n                timerend.Stop();\n                LatestEventTime.Text = timeStamp;\n            };\n        }\n\n        private void Thickness15D(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 5;\n            InkPanel.DefaultDrawingAttributes.Height = 5;\n            Thickness15Item.IsSelected = true;\n        }\n\n        private void Thickness10(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 1;\n            InkPanel.DefaultDrawingAttributes.Height = 1;\n        }\n\n        private void Thickness15(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 5;\n            InkPanel.DefaultDrawingAttributes.Height = 5;\n        }\n\n        private void Thickness20(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 10;\n            InkPanel.DefaultDrawingAttributes.Height = 10;\n        }\n\n        private void Thickness25(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 15;\n            InkPanel.DefaultDrawingAttributes.Height = 15;\n        }\n\n        private void Thickness30(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 20;\n            InkPanel.DefaultDrawingAttributes.Height = 20;\n        }\n\n        private void Thickness35(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 25;\n            InkPanel.DefaultDrawingAttributes.Height = 25;\n        }\n\n        private void Thickness40(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 30;\n            InkPanel.DefaultDrawingAttributes.Height = 30;\n        }\n\n        private void Thickness45(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 35;\n            InkPanel.DefaultDrawingAttributes.Height = 35;\n        }\n\n        private void Thickness50(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 40;\n            InkPanel.DefaultDrawingAttributes.Height = 40;\n        }\n        private void Thickness55(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 45;\n            InkPanel.DefaultDrawingAttributes.Height = 45;\n        }\n\n        private void Thickness60(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 50;\n            InkPanel.DefaultDrawingAttributes.Height = 50;\n        }\n        private void Thickness65(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Width = 55;\n            InkPanel.DefaultDrawingAttributes.Height = 55;\n        }\n\n        private void ColoreNero(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.Black;\n        }\n\n        private void ColoreRosso(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.Red;\n        }\n\n        private void ColoreVerde(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.Green;\n        }\n\n        private void ColoreBlu(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.Blue;\n        }\n\n        private void ColoreGiallo(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.Yellow;\n        }\n\n        private void Gomma(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.Color = Colors.White;\n        }\n\n        private void Evidenzia(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.IsHighlighter = true;\n        }\n\n        private void NoEvidenzia(object sender, RoutedEventArgs e)\n        {\n            InkPanel.DefaultDrawingAttributes.IsHighlighter = false;\n        }\n\n        private void ZoomIn(object sender, RoutedEventArgs e)\n        {\n            Matrix m = new Matrix();\n            m.Scale(1.1d, 1.1d);\n            ((InkCanvas)InkPanel).Strokes.Transform(m, true);\n\n        }\n\n        private void ZoomOut(object sender, RoutedEventArgs e)\n        {\n            Matrix m = new Matrix();\n            m.Scale(0.9d, 0.9d);\n            ((InkCanvas)InkPanel).Strokes.Transform(m, true);\n        }\n    }\n}\n')])])])])}),[],!1,null,null,null);n.default=r.exports}}]);